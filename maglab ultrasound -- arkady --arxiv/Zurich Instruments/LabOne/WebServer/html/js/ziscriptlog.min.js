function refresh(){"use strict";$.ajax({type:"POST",url:"/log",headers:{ziSessionId:sessionStorage.getItem("ziSessionId")},dataType:"xml",cache:!1,data:"",processData:!0,success:refreshHandler.onSucess,error:refreshHandler.onError})}function setTheme(){"use strict";var e,t,r;if(e=localStorage.getItem("ziTheme")){for(e=e.toLowerCase(),t=document.querySelectorAll("link.theme"),r=0;r<t.length;r++)t[r].title&&(t[r].disabled=t[r].title.toLowerCase()!==e?!0:!1);localStorage.setItem("ziTheme",e)}}function init(){setTheme(),$(document).scrollTop($(document).height()-$(window).height())}$(function(){init()});var refreshHandler={onSucess:function(e){"use strict";var t=e.querySelector("#logbody"),r=document.getElementById("logbody");t&&r&&r.parentNode&&r.parentNode.replaceChild(t,r)},onError:function(e){"use strict";console.error("Sorry but there was an error: "+e.status+" "+e.statusText)}},PollAJAXTimer={id:null,step:1e3,update:function(e){"use strict";return e>0&&(PollAJAXTimer.step=1e3/e,PollAJAXTimer.start()),e},start:function(){"use strict";PollAJAXTimer.stop(),refresh(),PollAJAXTimer.id=setInterval(refresh,PollAJAXTimer.step)},stop:function(){"use strict";PollAJAXTimer.id&&(clearInterval(PollAJAXTimer.id),PollAJAXTimer.id=null)}};
